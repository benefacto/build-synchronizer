{
    "$schema": "https://raw.githubusercontent.com/AArnott/vso-agent-tasks/9b41d803a/tasks.schema.json",
    "author": "Envestnet",
    "category": "Utility",
    "description": "Build task to (re-)create VSTS build definitions for TFVC in TFS (2017 Update 2) from provided (directory of) tokenized JSON file(s)",
    "execution": {
        "Node": {
            "target": "index.js"
        }
    },
    "friendlyName": "Tamarac Build Synchronizer",
    "groups": [
        {
            "name": "advanced",
            "displayName": "Advanced",
            "isExpanded": false
        }
    ],
    "helpMarkDown": "",
    "id": "4c204bbe-9c88-4b57-ac83-d5726fa2ae54",
    "inputs": [
        {
            "defaultValue": "",
            "helpMarkDown": "Optional postfix to append to names of created build definitions",
            "label": "Definition Name Postfix",
            "name": "defnamepostfix",
            "required": false,
            "type": "string"
        },
        {
            "defaultValue": "$/$(System.TeamProject)",
            "groupName": "advanced",
            "helpMarkDown": "Base TFVC path, defaults to $/$(System.TeamProject)",
            "label": "Base TFVC Path",
            "name": "basetfvcpath",
            "required": false,
            "type": "string"
        },
        {
            "defaultValue": "2.0",
            "groupName": "advanced",
            "helpMarkDown": "Version of TFS API to use",
            "label": "TFS API Version Number",
            "name": "tfsapiversionnumber",
            "required": true,
            "type": "string"
        },
        {
            "defaultValue": "#(branchPath)",
            "helpMarkDown": "Branch TFVC path token to replace with Base TFVC Path plus Branch Name",
            "label": "Branch Path Token",
            "name": "branchpathtoken",
            "required": true,
            "type": "string"
        },
        {
            "defaultValue": "#(branchName)",
            "helpMarkDown": "Branch name token to replace in input JSON file",
            "label": "Branch Name Token",
            "name": "branchnametoken",
            "required": true,
            "type": "string"
        },
        {
            "helpMarkDown": "Directory or file to read in JSON build definitions; example values: C:/BuildDefinitions/ or C:/BuildDefinitions/Def.json",
            "label": "File Path",
            "name": "filepath",
            "required": true,
            "type": "filePath"
        }
    ],
    "instanceNameFormat": "Synchronize Build Definitions",
    "name": "TamaracBuildSynchronizer",
    "version": {
        "Major": 1,
        "Minor": 0,
        "Patch": 0
    }
}